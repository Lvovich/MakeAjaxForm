;/**
 * @file makeAjaxForm
 * @version 6.2
 *
 * @author Lvovich
 * @see {@link https://github.com/Lvovich/makeAjaxForm|GitHub}
 *
 * @license MIT
 */
(function(){'use strict';try{window.makeAjaxForm=function(b){if(b.container&&"object"===typeof b.container&&b.submit&&"object"===typeof b.submit){var a=window.makeAjaxForm;b=a.h({container:null,submit:null,target:"/",waitingtime:3600,sendAjaxHeader:!0,onDataCollected:function(){},onStartExchange:function(){},onExchangeError:function(){},onExchangeSuccess:function(){}},b);a.l(b.submit,{handleEvent:a.m,j:b})}else console.error('makeAjaxForm: parameters "container" or "submit" is invalid. Plugin Off!')},function(b){b.a=
{};b.a.input=function(a){if(!a.disabled)if("checkbox"===a.type||"radio"===a.type){if(a.checked)return[b.b(a,a.value,a.hasAttribute("required"))]}else return[b.b(a,a.value,a.hasAttribute("required"))];return[]};b.a.select=function(a){var f=[];if(!a.disabled)for(var c=0;c<a.options.length;c++){var d=a.options[c];!d.disabled&&d.selected&&f.push(b.b(a,d.value,a.hasAttribute("required")))}return f};b.a.textarea=function(a){return a.disabled?[]:[b.b(a,a.value,a.hasAttribute("required"))]}}(window.makeAjaxForm),
function(b){b.f=function(a){var f=["input","select","textarea"],c=[],d,e,g,h;for(d=0;d<f.length;d++)for(g=f[d],h=a.container.getElementsByTagName(g),e=0;e<h.length;e++)h[e]!==a.submit&&h[e].name&&(c=c.concat(b.a[g](h[e])));return c}}(window.makeAjaxForm),function(b){b.g=function(a){var b={},c=window.FormData?new window.FormData:!1,d,e,g;if(c){for(d=0;d<a.length;d++)e=a[d],g=e.fileData.length?e.fileData[0]:e.value,c.append(e.element.name,g);b.c="";b.data=c}else{c="maf"+(""+Math.random()).slice(2,18);
g="--"+c+"\r\n";var h="--"+c+"--\r\n",k=["\r\n"];for(d=0;d<a.length;d++)e=a[d],k.push('Content-Disposition: form-data; name="'+e.element.name+'"\r\n\r\n'+e.value+"\r\n");b.c=c;b.data=k.join(g)+h}return b}}(window.makeAjaxForm),function(b){b.h=function(a,b){var c=Object.create(null),d;for(d in a)a.hasOwnProperty(d)&&(c[d]=d in b?b[d]:a[d]);return c};b.b=function(a,b,c){return{element:a,value:b,required:c,fileData:a.files||[]}};b.l=function(a,b){if(a.addEventListener)a.addEventListener("click",b);else if(a.attachEvent){var c=
b;b.handleEvent&&(c=function(){b.handleEvent.call(b)});a.attachEvent("onclick",c)}}}(window.makeAjaxForm),function(b){b.i=function(a,b){return a.length?!1!==b.onDataCollected(a)&&!1!==b.onStartExchange():(b.onExchangeError(["Collected no valid data."]),!1)}}(window.makeAjaxForm),function(b){b.m=function(){var a=new XMLHttpRequest,f=this.j,c=b.f(f);if(b.i(c,f)){var d=setTimeout(function(){a.abort();f.onExchangeError("No server response for a long times. Exchange aborted.")},1E3*f.waitingtime);a.open("post",
f.target,!0);a.onreadystatechange=function(){if(4===a.readyState)if(clearTimeout(d),200===a.status)f.onExchangeSuccess(a.responseText);else if(0<a.status)f.onExchangeError(a.status+": "+a.statusText)};c=b.g(c);f.sendAjaxHeader&&a.setRequestHeader("X-Requested-With","XMLHttpRequest");c.c.length&&a.setRequestHeader("Content-Type","multipart/form-data; boundary="+c.c);a.send(c.data)}}}(window.makeAjaxForm)}catch(b){console.dir(b)};})();
